<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Cropper</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
            padding: 20px;
            border-radius: 5px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
        }

        .upload, .dimensions {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .upload label {
            margin-right: 10px;
        }

        .dimensions input {
            margin-left: 10px;
            padding: 5px;
            width: 50px;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #crop, #clear {
            background-color: #3498db;
            color: #fff;
        }

        #download {
            background-color: #2ecc71;
            color: #fff;
            cursor: not-allowed; /* Disable default pointer for disabled button */
        }

        .preview {
            text-align: center;
        }

        .preview img {
            max-width: 100%;
        }

        .dark-mode-switch {
            text-align: center;
            margin-top: 20px;
        }

        /* Dark Mode Styles */

        #dark-mode:checked {
            --background-color: #222;
            --text-color: #fff;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
        }

        .container {
            background-color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Image Cropper</h1>
        <div class="upload">
            <label for="image-upload">Select Image:</label>
            <input type="file" id="image-upload" accept="image/*">
        </div>
        <div class="dimensions">
            <label for="width">Width (px):</label>
            <input type="number" id="width" min="1">
            <label for="height">Height (px):</label>
            <input type="number" id="height" min="1">
        </div>
        <div class="buttons">
            <button id="crop">Crop</button>
            <button id="download" disabled>Download</button>
            <button id="clear">Clear</button>
        </div>
        <div class="preview">
            <img id="preview-image" alt="Cropped Image">
        </div>
        <div class="dark-mode-switch">
            <label for="dark-mode">Dark Mode</label>
            <input type="checkbox" id="dark-mode">
        </div>
<script>
const imageUpload = document.getElementById('image-upload');
const previewImage = document.getElementById('preview-image');
const widthInput = document.getElementById('width');
const heightInput = document.getElementById('height');
const cropButton = document.getElementById('crop');
const downloadButton = document.getElementById('download');
const clearButton = document.getElementById('clear');
const darkModeCheckbox = document.getElementById('dark-mode');

let croppedImage;

// Function to display uploaded image
const displayImage = (file) => {
  const reader = new FileReader();
  reader.onload = function (e) {
    previewImage.src = e.target.result;
  };
  reader.readAsDataURL(file);
};

// Function to handle crop button click
const handleCrop = () => {
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  const image = new Image();
  image.onload = () => {
    const width = parseInt(widthInput.value, 10);
    const height = parseInt(heightInput.value, 10);
    canvas.width = width;
    canvas.height = height;
    ctx.drawImage(image, 0, 0, width, height);
    croppedImage = canvas.toDataURL('image/png');
    previewImage.src = croppedImage;
    downloadButton.disabled = false;
  };
  image.src = previewImage.src;
};

// Function to handle download button click
const handleDownload = () => {
  const link = document.createElement('a');
  link.href = croppedImage;
  link.download = 'cropped_image.png';
  link.click();
};

// Function to handle clear button click
const handleClear = () => {
  previewImage.src = '';
  widthInput.value = '';
  heightInput.value = '';
  croppedImage = null;
  downloadButton.disabled = true;
};

// Function to handle dark mode toggle
const handleDarkMode = () => {
  const body = document.body;
  const container = document.querySelector('.container');
  if (darkModeCheckbox.checked) {
    body.style.backgroundColor = '#222';
    body.style.color = '#fff';
    container.style.backgroundColor = '#333';
  } else {
    body.style.backgroundColor = '#f5f5f5';
    body.style.color = '#333';
    container.style.backgroundColor = '#fff';
  }
};

// Event listeners
imageUpload.addEventListener('change', (e) => displayImage(e.target.files[0]));
cropButton.addEventListener('click', handleCrop);
downloadButton.addEventListener('click', handleDownload);
clearButton.addEventListener('click', handleClear);
darkModeCheckbox.addEventListener('change', handleDarkMode);

</script>
</body>
</html>
            
